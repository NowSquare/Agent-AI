# ------------------------------------------------------------------------------
# Agent-AI — Docker (Windows/Linux/macOS; Dev or Prod)
# ------------------------------------------------------------------------------
# Containers: app, postgres, redis, mailpit, ollama, clamav
# ------------------------------------------------------------------------------

# Start Mailpit separately (brew or docker), it must be running for inbound email

APP_NAME="Agent AI"
APP_ENV=local
APP_DEBUG=true
APP_URL="http://localhost:8080"
APP_TIMEZONE="Europe/Amsterdam"

# ------------------------------------------------------------------------------
# Database (PostgreSQL in Docker)
# ------------------------------------------------------------------------------
DB_CONNECTION=pgsql
DB_HOST=postgres
DB_PORT=5432
DB_DATABASE=agent_ai
DB_USERNAME=agent_user
DB_PASSWORD="your_secure_password"

# ------------------------------------------------------------------------------
# Cache / Queues / Sessions
# ------------------------------------------------------------------------------
CACHE_DRIVER=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis
REDIS_HOST=redis
REDIS_PORT=6379

# ------------------------------------------------------------------------------
# Outbound Mail (DEV = Mailpit; UI: http://localhost:8025)
# ------------------------------------------------------------------------------
MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="noreply@agent-ai.test"
MAIL_FROM_NAME="Agent AI"

# Production (Postmark) — uncomment + set when deploying:
# MAIL_MAILER=postmark
# POSTMARK_TOKEN="pm_xxx"
# POSTMARK_MESSAGE_STREAM_ID="outbound"

# ------------------------------------------------------------------------------
# Inbound Mail (receive path)
# ------------------------------------------------------------------------------
# AGENT_MAIL is the *public-facing* address. In dev, messages sent via Mailpit's
# SMTP are delivered to Mailpit and forwarded to our Laravel webhook using a
# shared secret; in prod, use Postmark Inbound to POST to the same webhook.
AGENT_MAIL="hello@agent-ai.test"

INBOUND_EMAIL_DRIVER="mailpit"               # 'mailpit' in dev → switch to 'postmark' in prod
INBOUND_WEBHOOK_SECRET="dev_shared_secret"   # set a strong random value in prod

# ------------------------------------------------------------------------------
# LLM (Ollama container)
# ------------------------------------------------------------------------------
LLM_PROVIDER=ollama
LLM_MODEL="gpt-oss:20b"
OLLAMA_BASE_URL="http://ollama:11434"

# ------------------------------------------------------------------------------
# Antivirus (ClamAV container)
# ------------------------------------------------------------------------------
CLAMAV_HOST=clamav
CLAMAV_PORT=3310

# ------------------------------------------------------------------------------
# Filesystem
# ------------------------------------------------------------------------------
FILESYSTEM_DISK=local
