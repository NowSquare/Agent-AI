# ==============================================================================
# Agent-AI — Docker (Dev/Prod)
# ==============================================================================

APP_NAME="Agent AI"
APP_ENV=local
APP_DEBUG=true
APP_URL="http://localhost:8080"
APP_TIMEZONE="Europe/Amsterdam"

# PostgreSQL (container)
DB_CONNECTION=pgsql
DB_HOST=postgres
DB_PORT=5432
DB_DATABASE=agent_ai
DB_USERNAME=agent_user
DB_PASSWORD="your_secure_password"

# Redis (container)
CACHE_DRIVER=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis
REDIS_HOST=redis
REDIS_PORT=6379

# Postmark
MAIL_MAILER="postmark"
POSTMARK_TOKEN="your-real-postmark-server-token"
POSTMARK_MESSAGE_STREAM_ID="outbound"
MAIL_FROM_ADDRESS="noreply@agent-ai.test"
MAIL_FROM_NAME="Agent AI"

# Inbound webhook (Postmark → Basic Auth)
AGENT_MAIL="<hash>@inbound.postmarkapp.com"
WEBHOOK_USER="postmark"
WEBHOOK_PASS="your-very-long-random-password-here"

# --------------------------
# LLM — Routing & Roles
# --------------------------
## Same as .env.herd; see that file for a step-by-step explanation.
## Docker note: ensure Ollama container has the models you reference below.
LLM_TIMEOUT_MS=120000
LLM_RETRY_MAX=1
LLM_ROUTING_MODE=auto           # auto | single
LLM_GROUNDING_HIT_MIN=0.35      # Retrieval quality threshold for GROUNDED
LLM_SYNTH_COMPLEXITY_TOKENS=1200# Force SYNTH for long/complex inputs
LLM_MAX_AGENT_STEPS=10

LLM_CLASSIFY_PROVIDER=ollama    # Containerized Ollama
LLM_CLASSIFY_MODEL="mistral-small3.2:24b"  # Example local tag
LLM_CLASSIFY_TOOLS=true
LLM_CLASSIFY_REASONING=false

LLM_GROUNDED_PROVIDER=ollama
LLM_GROUNDED_MODEL="gpt-oss:20b"
LLM_GROUNDED_TOOLS=true
LLM_GROUNDED_REASONING=false

LLM_SYNTH_PROVIDER=ollama
LLM_SYNTH_MODEL="gpt-oss:120b"
LLM_SYNTH_TOOLS=true
LLM_SYNTH_REASONING=true

# Embeddings (pgvector)
EMBEDDINGS_PROVIDER=ollama
EMBEDDINGS_MODEL="mxbai-embed-large"
EMBEDDINGS_DIM=1024
EMBEDDINGS_DISTANCE=cosine      # cosine | l2 | ip
EMBEDDINGS_INDEX_LISTS=100      # ivfflat lists

# Providers
OLLAMA_BASE_URL="http://ollama:11434"
OPENAI_API_KEY=
OPENAI_BASE_URL="https://api.openai.com/v1"
ANTHROPIC_API_KEY=
ANTHROPIC_BASE_URL="https://api.anthropic.com"

# ClamAV (container)
CLAMAV_HOST=clamav
CLAMAV_PORT=3310

ATTACH_MAX_SIZE_MB=25
ATTACH_TOTAL_MAX_SIZE_MB=40
FILESYSTEM_DISK=local
